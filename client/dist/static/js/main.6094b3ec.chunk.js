(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{196:function(e,t,a){e.exports=a(364)},207:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},341:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(66),l=a.n(c),u=a(30),o=a(45),i=a(14),s=a.n(i),p=a(20),m=a(15),d=a(42),f=a(56),h=a(385),b=a(382),E=a(383),g=a(99),v=Object(n.createContext)(null);function O(){return Object(n.useContext)(v)}function j(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}var y=a(108),w=a(373),k=a(374),S=a(384);a(207);function I(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=O().isAuthenticated,u=Object(n.useState)(!0),o=Object(m.a)(u,2),i=o[0],d=o[1];function h(){return S.a.get("recipes","/recipes")}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h();case 5:t=e.sent,c(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),j(e.t0);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]),r.a.createElement("div",{className:"Home"},l?r.a.createElement("div",{className:"recipes"},r.a.createElement(w.a,null,"Your Recipes"),r.a.createElement(k.a,null,!i&&function(e){return[{}].concat(e).map((function(e,t){return 0!==t?r.a.createElement(f.LinkContainer,{key:e.recipeId,to:"/recipes/".concat(e.recipeId)},r.a.createElement(y.a,{header:e.recipeName},"Created: "+new Date(e.createdAt).toLocaleString())):r.a.createElement(f.LinkContainer,{key:"new",to:"/recipes/new"},r.a.createElement(y.a,null,r.a.createElement("h4",null,r.a.createElement("b",null,"\uff0b")," Create a new recipe")))}))}(a))):r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Jupiter Recipes"),r.a.createElement("p",null,"A browser extension for creating recipes using Jupiter products")))}var x=a(376),N=a(377),C=a(386),L=a(186),R=a(375),P=a(184);a(322);function q(e){var t=e.isLoading,a=e.className,n=void 0===a?"":a,c=e.disabled,l=void 0!==c&&c,u=Object(L.a)(e,["isLoading","className","disabled"]);return r.a.createElement(R.a,Object.assign({className:"".concat(n," LoaderButton"),disabled:l||t},u),t&&r.a.createElement(P.a,{glyph:"refresh",className:"spinning"}),u.children)}var A=a(83),_=a(110);function D(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1];return[r,function(e){c(Object(_.a)(Object(_.a)({},r),{},Object(A.a)({},e.target.id,e.target.value)))}]}a(323);function z(){var e=Object(d.k)(),t=O().userHasAuthenticated,a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],u=c[1],o=D({email:"",password:""}),i=Object(m.a)(o,2),f=i[0],h=i[1];function b(){return(b=Object(p.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),u(!0),a.prev=2,a.next=5,g.a.signIn(f.email,f.password);case 5:t(!0),e.push("/"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),j(a.t0),u(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:function(e){return b.apply(this,arguments)}},r.a.createElement(x.a,{controlId:"email",bsSize:"large"},r.a.createElement(N.a,null,"Email"),r.a.createElement(C.a,{autoFocus:!0,type:"email",value:f.email,onChange:h})),r.a.createElement(x.a,{controlId:"password",bsSize:"large"},r.a.createElement(N.a,null,"Password"),r.a.createElement(C.a,{type:"password",value:f.password,onChange:h})),r.a.createElement(q,{block:!0,type:"submit",bsSize:"large",isLoading:l,disabled:!(f.email.length>0&&f.password.length>0)},"Login")))}var J=a(378);a(324);function T(){var e=D({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(d.k)(),u=Object(n.useState)(null),o=Object(m.a)(u,2),i=o[0],f=o[1],h=O().userHasAuthenticated,b=Object(n.useState)(!1),E=Object(m.a)(b,2),v=E[0],y=E[1];function w(e){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.prev=2,e.next=5,g.a.signUp({username:a.email,password:a.password});case 5:n=e.sent,y(!1),f(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),j(e.t0),y(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.prev=2,e.next=5,g.a.confirmSignUp(a.email,a.confirmationCode);case 5:return e.next=7,g.a.signIn(a.email,a.password);case 7:h(!0),l.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),j(e.t0),y(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Signup"},null===i?r.a.createElement("form",{onSubmit:w},r.a.createElement(x.a,{controlId:"email",bsSize:"large"},r.a.createElement(N.a,null,"Email"),r.a.createElement(C.a,{autoFocus:!0,type:"email",value:a.email,onChange:c})),r.a.createElement(x.a,{controlId:"password",bsSize:"large"},r.a.createElement(N.a,null,"Password"),r.a.createElement(C.a,{type:"password",value:a.password,onChange:c})),r.a.createElement(x.a,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(N.a,null,"Confirm Password"),r.a.createElement(C.a,{type:"password",onChange:c,value:a.confirmPassword})),r.a.createElement("h6",null,"Password Requirements: At least 6 total characters, one upperchase character, and one special character"),r.a.createElement(q,{block:!0,type:"submit",bsSize:"large",isLoading:v,disabled:!(a.email.length>0&&a.password.length>0&&a.password===a.confirmPassword)},"Signup")):r.a.createElement("form",{onSubmit:S},r.a.createElement(x.a,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(N.a,null,"Confirmation Code"),r.a.createElement(C.a,{autoFocus:!0,type:"tel",onChange:c,value:a.confirmationCode}),r.a.createElement(J.a,null,"Please check your email for the code.")),r.a.createElement(q,{block:!0,type:"submit",bsSize:"large",isLoading:v,disabled:!(a.confirmationCode.length>0)},"Verify")))}var U=a(85),Y=a(111),F=a.n(Y),B={REGION:"us-east-1",URL:"https://zb9cbqszn5.execute-api.us-east-1.amazonaws.com/prod"},G={REGION:"us-east-1",USER_POOL_ID:"us-east-1_tEeNptpoh",APP_CLIENT_ID:"mjggrnnuh9271ct5956koce1b",IDENTITY_POOL_ID:"us-east-1:cd045f8a-c400-4c79-a41a-3392530bda34"},H={API_KEY:"0c8bb7462214472a8370836d849b6b2d"};a(341);function K(){var e=Object(d.k)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),o=Object(m.a)(u,2),i=o[0],f=o[1],h=Object(n.useState)(""),b=Object(m.a)(h,2),E=b[0],g=b[1],v=Object(n.useState)(""),O=Object(m.a)(v,2),y=O[0],w=O[1],k=Object(n.useState)({}),I=Object(m.a)(k,2),N=I[0],L=I[1],R=Object(n.useState)(!1),P=Object(m.a)(R,2),A=P[0],_=P[1];function D(){return(D=Object(p.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),_(!0),t.prev=2,t.next=5,z(c);case 5:e.push("/"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),j(t.t0),_(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function z(e){return S.a.post("recipes","/recipes",{body:{name:e,content:i}})}function J(){return(J=Object(p.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=H.API_KEY,fetch("https://api.spoonacular.com/recipes/extract?apiKey=".concat(a,"&url=").concat(y)).then((function(e){return e.json()})).then((function(e){console.log(e),l(e.title);for(var a=e.extendedIngredients,n=function(e){var n=Math.ceil(a[e].amount);F()({url:"https://graphql.jupiter.co/",method:"post",data:{query:'\n                query{\n                  search(page:0, query: "'.concat(a[e].name,'"){\n                    name\n                    productId{\n                      value\n                    }\n                  }\n                }\n              ')}}).then((function(e){var a=e.data.data.search[0];a&&Y(t,a.name,a.productId.value,n)})).catch((function(e){console.log(e)}))},r=0;r<a.length;r++)n(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://graphql.jupiter.co/",e.next=3,F()({url:"https://graphql.jupiter.co/",method:"post",data:{query:'\n          query{\n            search(page:0, query: "'.concat(E,'"){\n              name\n              productId{\n                value\n              }\n            }\n          }\n        ')}}).then((function(e){L(e.data.data.search.slice(0,5))})).catch(console.error);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.preventDefault(),g(""),L([]);var r={name:t,quantity:n,productId:a};f((function(e){return[].concat(Object(U.a)(e),[r])}))}return Object(n.useEffect)((function(){""==E?L({}):function(){T.apply(this,arguments)}()}),[E]),r.a.createElement("div",{className:"NewRecipe"},r.a.createElement("h4",null,"Load a recipe from another site:"),r.a.createElement("input",{placeholder:"Paste recipe URL here",onChange:function(e){return w(e.target.value)}}),r.a.createElement("button",{className:"add-btn",onClick:function(e){return function(e){return J.apply(this,arguments)}(e)}},"Load Recipe"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:function(e){return D.apply(this,arguments)}},r.a.createElement("h4",null,"Recipe name:"),r.a.createElement(x.a,{controlId:"name"},r.a.createElement(C.a,{value:c,componentClass:"input",onChange:function(e){return l(e.target.value)}})),r.a.createElement("hr",null),r.a.createElement("h4",null,"Recipe Ingredients:"),i.length>0?r.a.createElement("div",{className:"card"},i.map((function(e){return e.name.length>60&&(e.name=e.name.substr(0,50)+"..."),r.a.createElement("div",{key:e.productId},r.a.createElement("a",{href:"https://app.jupiter.co/product/".concat(e.productId),target:"_blank"},r.a.createElement("h6",{className:"card-text"},e.name)),r.a.createElement("label",{className:"card-text",for:"quantity"},"Quantity:"),r.a.createElement("input",{className:"quant-input",defaultValue:e.quantity,type:"number",id:"quantity",name:"quantity",min:"0",onChange:function(t){return function(e,t){var a=Object(U.a)(i),n=a.find((function(e){return e.name==t.name}));if(0===parseInt(e)&&window.confirm("Are you sure you want to remove this ingredient?")){var r=a.indexOf(n);a.splice(r,1)}else n.quantity=parseInt(e);f((function(e){return Object(U.a)(a)}))}(t.target.value,e)}}))}))):r.a.createElement("h5",null,"Your recipe has no ingredients - add some below!"),r.a.createElement("hr",null),r.a.createElement("h4",null,"Add ingredients:"),r.a.createElement(x.a,{controlId:"query"},r.a.createElement(C.a,{value:E,placeholder:"Search Jupiter Catalog",componentClass:"input",onChange:function(e){g(e.target.value)}})),function(){if(Object.keys(N).length&&N.length)return r.a.createElement("div",{className:"search-card"},N.map((function(e){return r.a.createElement("div",{key:e.productId.value},r.a.createElement("a",{href:"https://app.jupiter.co/product/".concat(e.productId.value),target:"_blank"},r.a.createElement("h6",{className:"card-text"},e.name)),r.a.createElement("button",{className:"add-btn",onClick:function(t){return Y(t,e.name,e.productId.value)}},"Add"))})))}(),r.a.createElement(q,{block:!0,className:"create-btn",type:"submit",bsSize:"large",bsStyle:"primary",isLoading:A,disabled:!function(){for(var e=0;e<i.length;e++)if(i[e].quantity<1)return!1;return c.length>0&&i.length>0}()},"Create Recipe")))}var W=a(379),Q=a(380),V=a(381),M=a(84);a(347);function $(){var e=Object(d.m)().id,t=Object(d.k)(),a=Object(n.useState)(null),c=Object(m.a)(a,2),l=c[0],u=c[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),f=i[0],h=i[1],b=Object(n.useState)([]),E=Object(m.a)(b,2),g=E[0],v=E[1],O=Object(n.useState)(!1),y=Object(m.a)(O,2),w=y[0],k=y[1],I=Object(n.useState)(!1),N=Object(m.a)(I,2),L=N[0],R=N[1];function P(t){return S.a.put("recipes","/recipes/".concat(e),{body:{recipe:t}})}function A(){return(A=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),k(!0),e.prev=2,e.next=5,P({recipeName:f,content:{}});case 5:t.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),j(e.t0),k(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function _(){return S.a.del("recipes","/recipes/".concat(e))}function D(){return(D=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),window.confirm("Are you sure you want to delete this recipe?")){e.next=4;break}return e.abrupt("return");case 4:return R(!0),e.prev=5,e.next=8,_();case 8:t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),j(e.t0),R(!1);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function z(){var e=0;if(!(g.length<1)){for(var t='Check out my recipe "'.concat(f,'" which includes ');e<g.length-1;e++)t+="".concat(g[e].name,", ");return t+=" and ".concat(g[g.length-1].name,"! "),t+="You can buy the ingredients using Jupiter's Grocery Service!"}}return Object(n.useEffect)((function(){function t(){return S.a.get("recipes","/recipes/".concat(e))}function a(){return(a=Object(p.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,n=a.content,r=a.recipeName,h(r),u(a),v(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),j(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e]),r.a.createElement("div",{className:"Recipes"},l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"social-icon"},r.a.createElement(W.a,{url:"jupiter.co",title:z()},r.a.createElement(M.SocialIcon,{network:"twitter"})),r.a.createElement(Q.a,{url:"jupiter.co",title:z()},r.a.createElement(M.SocialIcon,{network:"facebook"})),r.a.createElement(V.a,{url:"jupiter.co",title:z()},r.a.createElement(M.SocialIcon,{network:"reddit"}))),r.a.createElement("form",{onSubmit:function(e){return A.apply(this,arguments)}},r.a.createElement("h4",null,"Recipe Name:"),r.a.createElement(x.a,{controlId:"name"},r.a.createElement(C.a,{value:f,placeholder:"New recipe name",componentClass:"input",onChange:function(e){return h(e.target.value)}})),r.a.createElement("hr",null),r.a.createElement("h4",null,"Recipe Contents:"),g.length>0?r.a.createElement("div",null,g.map((function(e){return r.a.createElement("div",{className:"card",key:e.productId},r.a.createElement("a",{href:"https://app.jupiter.co/product/".concat(e.productId),target:"_blank"},r.a.createElement("h6",{className:"card-text"},e.name)),r.a.createElement("h6",{className:"card-text"},"Quantity: ",e.quantity))}))):r.a.createElement("h5",null,"ERROR: Empty Recipe"),r.a.createElement("hr",null),r.a.createElement(q,{block:!0,type:"submit",bsSize:"large",bsStyle:"primary",isLoading:w,disabled:!(g.length>0&&f.length>0)},"Save"),r.a.createElement(q,{block:!0,bsSize:"large",bsStyle:"danger",onClick:function(e){return D.apply(this,arguments)},isLoading:L},"Delete"))))}a(348);function X(){var e=Object(d.k)();return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Error 404: Page not found"),e.push("/"))}function Z(){return r.a.createElement(d.g,null,r.a.createElement(d.d,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(d.d,{exact:!0,path:"/login"},r.a.createElement(z,null)),r.a.createElement(d.d,{exact:!0,path:"/signup"},r.a.createElement(T,null)),r.a.createElement(d.d,{exact:!0,path:"/recipes/new"},r.a.createElement(K,null)),r.a.createElement(d.d,{exact:!0,path:"/recipes/:id"},r.a.createElement($,null)),r.a.createElement(d.d,null,r.a.createElement(X,null)))}a(349);var ee=function(){var e=Object(d.k)(),t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!0),i=Object(m.a)(o,2),O=i[0],y=i[1];function w(){return(w=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.currentSession();case 3:l(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&j(e.t0);case 9:y(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function k(){return(k=Object(p.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.signOut();case 2:l(!1),e.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),!O&&r.a.createElement("div",{className:"App container"},r.a.createElement(h.a,{fluid:!0,collapseOnSelect:!0},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Brand,null,r.a.createElement(u.Link,{to:"/"},"Jupiter Recipes")),r.a.createElement(h.a.Toggle,null)),r.a.createElement(h.a.Collapse,null,r.a.createElement(b.a,{pullRight:!0},c?r.a.createElement(E.a,{onClick:function(){return k.apply(this,arguments)}},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.LinkContainer,{to:"/signup"},r.a.createElement(E.a,null,"Signup")),r.a.createElement(f.LinkContainer,{to:"/login"},r.a.createElement(E.a,null,"Login")))))),r.a.createElement(v.Provider,{value:{isAuthenticated:c,userHasAuthenticated:l}},r.a.createElement(Z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(363);o.a.configure({Auth:{mandatorySignIn:!0,region:G.REGION,userPoolId:G.USER_POOL_ID,identityPoolId:G.IDENTITY_POOL_ID,userPoolWebClientId:G.APP_CLIENT_ID},API:{endpoints:[{name:"recipes",endpoint:B.URL,region:B.REGION}]}}),l.a.render(r.a.createElement(u.BrowserRouter,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);